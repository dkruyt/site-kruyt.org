<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Instagram/Facebook HELO/SPF fail | Dennis Kruyt</title>
<meta name="keywords" content="SPF, email, instagram, fail, helo, smtp, facebook" />
<meta name="description" content="I am trying to get an email from instagram, but I wasn&rsquo;t receiving it. Upon checking my mail logs I see the following log message.
Sep 13 03:50:51 mailserver postfix/smtpd[28105]: NOQUEUE: reject: RCPT from 66-220-155-156.mail-mail.facebook.com[66.220.155.156]: 550 5.7.1 &lt;dennis@kruyt.org&gt;: Recipient address rejected: Message rejected due to: domain owner discourages use of this host. Please see http://www.openspf.net/Why?s=helo;id=mx-out.facebook.com;ip=66.220.155.156;r=dennis@kruyt.org; from=&lt;security@mail.instagram.com&gt; to=&lt;dennis@kruyt.org&gt; proto=ESMTP helo=&lt;mx-out.facebook.com&gt; So the mail is SPF (Sender Policy Framework) failing. Email domains use this protocol to specify which mail hosts are authorised to use this domain in the SMTP HELO and MAIL FROM commands.">
<meta name="author" content="Dennis Kruyt">
<link rel="canonical" href="https://kruyt.org/post/2019/instragram-mail-server/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://kruyt.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://kruyt.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kruyt.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://kruyt.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://kruyt.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Instagram/Facebook HELO/SPF fail" />
<meta property="og:description" content="I am trying to get an email from instagram, but I wasn&rsquo;t receiving it. Upon checking my mail logs I see the following log message.
Sep 13 03:50:51 mailserver postfix/smtpd[28105]: NOQUEUE: reject: RCPT from 66-220-155-156.mail-mail.facebook.com[66.220.155.156]: 550 5.7.1 &lt;dennis@kruyt.org&gt;: Recipient address rejected: Message rejected due to: domain owner discourages use of this host. Please see http://www.openspf.net/Why?s=helo;id=mx-out.facebook.com;ip=66.220.155.156;r=dennis@kruyt.org; from=&lt;security@mail.instagram.com&gt; to=&lt;dennis@kruyt.org&gt; proto=ESMTP helo=&lt;mx-out.facebook.com&gt; So the mail is SPF (Sender Policy Framework) failing. Email domains use this protocol to specify which mail hosts are authorised to use this domain in the SMTP HELO and MAIL FROM commands." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kruyt.org/post/2019/instragram-mail-server/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-09-13T03:36:21&#43;00:00" />
<meta property="article:modified_time" content="2019-09-13T03:36:21&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Instagram/Facebook HELO/SPF fail"/>
<meta name="twitter:description" content="I am trying to get an email from instagram, but I wasn&rsquo;t receiving it. Upon checking my mail logs I see the following log message.
Sep 13 03:50:51 mailserver postfix/smtpd[28105]: NOQUEUE: reject: RCPT from 66-220-155-156.mail-mail.facebook.com[66.220.155.156]: 550 5.7.1 &lt;dennis@kruyt.org&gt;: Recipient address rejected: Message rejected due to: domain owner discourages use of this host. Please see http://www.openspf.net/Why?s=helo;id=mx-out.facebook.com;ip=66.220.155.156;r=dennis@kruyt.org; from=&lt;security@mail.instagram.com&gt; to=&lt;dennis@kruyt.org&gt; proto=ESMTP helo=&lt;mx-out.facebook.com&gt; So the mail is SPF (Sender Policy Framework) failing. Email domains use this protocol to specify which mail hosts are authorised to use this domain in the SMTP HELO and MAIL FROM commands."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://kruyt.org/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Instagram/Facebook HELO/SPF fail",
      "item": "https://kruyt.org/post/2019/instragram-mail-server/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Instagram/Facebook HELO/SPF fail",
  "name": "Instagram\/Facebook HELO\/SPF fail",
  "description": "I am trying to get an email from instagram, but I wasn\u0026rsquo;t receiving it. Upon checking my mail logs I see the following log message.\nSep 13 03:50:51 mailserver postfix/smtpd[28105]: NOQUEUE: reject: RCPT from 66-220-155-156.mail-mail.facebook.com[66.220.155.156]: 550 5.7.1 \u0026lt;dennis@kruyt.org\u0026gt;: Recipient address rejected: Message rejected due to: domain owner discourages use of this host. Please see http://www.openspf.net/Why?s=helo;id=mx-out.facebook.com;ip=66.220.155.156;r=dennis@kruyt.org; from=\u0026lt;security@mail.instagram.com\u0026gt; to=\u0026lt;dennis@kruyt.org\u0026gt; proto=ESMTP helo=\u0026lt;mx-out.facebook.com\u0026gt; So the mail is SPF (Sender Policy Framework) failing. Email domains use this protocol to specify which mail hosts are authorised to use this domain in the SMTP HELO and MAIL FROM commands.",
  "keywords": [
    "SPF", "email", "instagram", "fail", "helo", "smtp", "facebook"
  ],
  "articleBody": "I am trying to get an email from instagram, but I wasn’t receiving it. Upon checking my mail logs I see the following log message.\nSep 13 03:50:51 mailserver postfix/smtpd[28105]: NOQUEUE: reject: RCPT from 66-220-155-156.mail-mail.facebook.com[66.220.155.156]: 550 5.7.1 : Recipient address rejected: Message rejected due to: domain owner discourages use of this host. Please see http://www.openspf.net/Why?s=helo;id=mx-out.facebook.com;ip=66.220.155.156;r=dennis@kruyt.org; from= to= proto=ESMTP helo= So the mail is SPF (Sender Policy Framework) failing. Email domains use this protocol to specify which mail hosts are authorised to use this domain in the SMTP HELO and MAIL FROM commands.\n  There is a URL in the log message, for a quick check. But the domain openspf.com doesn’t exist any more. So we need to do some manual checking.\n1 dennis@colossus:~ host -t TXT mail.instagram.com mail.instagram.com descriptive text \"v=spf1 include:facebookmail.com -all\" 1 dennis@colossus:~ host -t TXT facebookmail.com facebookmail.com descriptive text \"v=spf1 ip4:66.220.144.128/25 ip4:66.220.155.0/24 ip4:66.220.157.0/25 ip4:69.63.178.128/25 ip4:69.63.181.0/24 ip4:69.63.184.0/25 ip4:69.171.232.0/24 ip4:69.171.244.0/23 -all\" So ip 66.220.155.156 is in the allowed list of the SPF record. So it shouldn’t fail on SPF.\nBut on a second look it is not failing on the SPF for the from domain, but on the HELO from the sending mailserver. The HELO is mx-out.facebook.com.\n1 dennis@colossus:~ host -t TXT mx-out.facebook.com mx-out.facebook.com descriptive text \"v=spf1 a ~all\" 1 dennis@colossus:~ host -t A mx-out.facebook.com mx-out.facebook.com has address 69.63.179.2 So the HELO mx-out.facebook.com and the A record is resolving to 69.63.179.2, and that is not in the SPF record for mx-out.facebook.com. So it is soft failing.\nI am using postfix as a mail server, that is using policyd-spf-python framework for SPF checking. So lets see the config file /etc/postfix-policyd-spf-python/policyd-spf.conf\nThere is a option for HELO_reject\nHELO_reject = SPF_Not_Pass So what From the policyd-spf.conf manual\n SPF_Not_Pass (default) - Reject if result not Pass, None, or Temperror (alternatively put, reject if the SPF result is Fail, Softfail, Neutral, PermError). Unlike Mail From checking, there are no standard e-mail use cases where a HELO check should not Pass if there is an SPF record for the HELO name (transparent forwarding, for example, is not an issue). Technically this option is not fully RFC 4408 compliant since the SPF check for the Mail From identity is mandatory and Neutral and None results must be treated the same. HELO/EHLO is known first in the SMTP dialogue and there is no practical reason to waste resources on Mail From checks if the HELO check will already cause the message to be rejected. These deviations should not cause interoperability problems when used for HELO.\n  Null - Only reject HELO Fail for Null sender (SPF Classic). This is the approach used by the pre-RFC 4408 reference implementation and many of the pre- RFC specifications. Use of at least this option (SPF_Not_Pass or Fail) are preferred) is highly recommended.\n The manual refers to RFC 4408, but that one is already replace by RFC 7208. The part of HELO in the RFC see https://tools.ietf.org/html/rfc7208#section-2.3\n 2.3. The “HELO” Identity It is RECOMMENDED that SPF verifiers not only check the “MAIL FROM” identity but also separately check the “HELO” identity by applying the check_host() function (Section 4) to the “HELO” identity as the . Checking “HELO” promotes consistency of results and can reduce DNS resource usage. If a conclusive determination about the message can be made based on a check of “HELO”, then the use of DNS resources to process the typically more complex “MAIL FROM” can be avoided. Additionally, since SPF records published for “HELO” identities refer to a single host, when available, they are a very reliable source of host authorization status. Checking “HELO” before “MAIL FROM” is the RECOMMENDED sequence if both are checked.\n So after changing the option to Null I received the emails again. I could also add the facebook mailserver to a whitelist. But al that is just a work around, instagram/facebook should add the HELO for outbound mailservers to their SPF records.\nAn other site where you can do SPF checks that will show this https://www.kitterman.com/spf/validate.html\nMail sent from this IP address: 66.220.155.156 Mail from (Sender): security@mail.instagram.com Mail checked using this SPF policy: v=spf1 include:facebookmail.com -all Results - PASS sender SPF authorized Mail sent from this IP address: 66.220.155.156 Mail Server HELO/EHLO identity: mx-out.facebook.com HELO/EHLO Results - softfail domain owner discourages use of this host So what does a correct implementation looks like? Microsoft, Outlook has a correct HELO/SPF setup.\n1 dennis@colossus:~ host -t txt eur01-db5-obe.outbound.protection.outlook.com eur01-db5-obe.outbound.protection.outlook.com descriptive text \"v=spf1 include:spf.protection.outlook.com -all\" 1 dennis@colossus:~ host -t txt spf.protection.outlook.com spf.protection.outlook.com descriptive text \"v=spf1 ip4:207.46.100.0/24 ip4:207.46.163.0/24 ip4:65.55.169.0/24 ip4:157.56.110.0/23 ip4:157.55.234.0/24 ip4:213.199.154.0/24 ip4:213.199.180.128/26 ip4:52.100.0.0/14 include:spfa.protection.outlook.com -all\" 1 dennis@colossus:~ host eur01-db5-obe.outbound.protection.outlook.com eur01-db5-obe.outbound.protection.outlook.com has address 213.199.154.175 eur01-db5-obe.outbound.protection.outlook.com has IPv6 address 2a01:111:f400:7e02::200 ",
  "wordCount" : "770",
  "inLanguage": "en",
  "datePublished": "2019-09-13T03:36:21Z",
  "dateModified": "2019-09-13T03:36:21Z",
  "author":{
    "@type": "Person",
    "name": "Dennis Kruyt"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kruyt.org/post/2019/instragram-mail-server/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Dennis Kruyt",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kruyt.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kruyt.org/" accesskey="h" title="Dennis Kruyt (Alt + H)">Dennis Kruyt</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Instagram/Facebook HELO/SPF fail
    </h1>
    <div class="post-meta"><span title='2019-09-13 03:36:21 +0000 UTC'>September 13, 2019</span>&nbsp;·&nbsp;Dennis Kruyt

</div>
  </header> 
  <div class="post-content"><p>I am trying to get an email from instagram, but I wasn&rsquo;t receiving it. Upon checking my mail logs I see the following log message.</p>
<pre tabindex="0"><code>Sep 13 03:50:51 mailserver postfix/smtpd[28105]: NOQUEUE: reject: RCPT from 66-220-155-156.mail-mail.facebook.com[66.220.155.156]: 550 5.7.1 &lt;dennis@kruyt.org&gt;: Recipient address rejected: Message rejected due to: domain owner discourages use of this host. Please see http://www.openspf.net/Why?s=helo;id=mx-out.facebook.com;ip=66.220.155.156;r=dennis@kruyt.org; from=&lt;security@mail.instagram.com&gt; to=&lt;dennis@kruyt.org&gt; proto=ESMTP helo=&lt;mx-out.facebook.com&gt;
</code></pre><p>So the mail is SPF (Sender Policy Framework) failing. Email domains use this protocol to specify which mail hosts are authorised to use this domain in the SMTP HELO and MAIL FROM commands.</p>
<figure>
    <img loading="lazy" src="/images/2019/10/spf_flow--1-.jpg"/> 
</figure>

<p>There is a URL in the log message, for a quick check. But the domain openspf.com doesn&rsquo;t exist any more. So we need to do some manual checking.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host -t TXT mail.instagram.com
mail.instagram.com descriptive text <span style="color:#e6db74">&#34;v=spf1 include:facebookmail.com -all&#34;</span>
<span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host -t TXT facebookmail.com
facebookmail.com descriptive text <span style="color:#e6db74">&#34;v=spf1 ip4:66.220.144.128/25 ip4:66.220.155.0/24 ip4:66.220.157.0/25 ip4:69.63.178.128/25 ip4:69.63.181.0/24 ip4:69.63.184.0/25 ip4:69.171.232.0/24 ip4:69.171.244.0/23 -all&#34;</span>
</code></pre></div><p>So ip <strong>66.220.155.156</strong> is in the allowed list of the SPF record. So it shouldn&rsquo;t fail on SPF.</p>
<p>But on a second look it is not failing on the SPF for the from domain, but on the HELO from the sending mailserver. The HELO is mx-out.facebook.com.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host -t TXT mx-out.facebook.com
mx-out.facebook.com descriptive text <span style="color:#e6db74">&#34;v=spf1 a ~all&#34;</span>
<span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host -t A mx-out.facebook.com
mx-out.facebook.com has address 69.63.179.2
</code></pre></div><p>So the HELO mx-out.facebook.com and the A record is resolving to 69.63.179.2, and that is not in the SPF record for mx-out.facebook.com. So it is soft failing.</p>
<p>I am using postfix as a mail server, that is using policyd-spf-python framework for SPF checking. So lets see the config file <em>/etc/postfix-policyd-spf-python/policyd-spf.conf</em></p>
<p>There is a option for HELO_reject</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">HELO_reject <span style="color:#f92672">=</span> SPF_Not_Pass
</code></pre></div><p>So what From the policyd-spf.conf manual</p>
<blockquote>
<p><strong>SPF_Not_Pass</strong> (default) - Reject if result not Pass, None, or Temperror (alternatively put,        reject if the SPF result is Fail, Softfail, Neutral, PermError). Unlike Mail From        checking, there are no standard e-mail use cases where a HELO check should not Pass if        there is an SPF record for the HELO name (transparent forwarding, for example, is not an        issue). Technically this option is not fully RFC 4408 compliant since the SPF check for        the Mail From identity is mandatory and Neutral and None results must be treated the same.        HELO/EHLO is known first in the SMTP dialogue and there is no practical reason to waste        resources on Mail From checks if the HELO check will already cause the message to be        rejected. These deviations should not cause interoperability problems when used for HELO.</p>
</blockquote>
<blockquote>
<p><strong>Null</strong> - Only reject HELO Fail for Null sender (SPF Classic).  This is the approach used by        the pre-RFC 4408 reference implementation and many of the pre- RFC specifications.  Use of        at least this option (SPF_Not_Pass or Fail) are preferred) is highly recommended.</p>
</blockquote>
<p>The manual refers to RFC 4408, but that one is already replace by RFC 7208. The part of HELO in the RFC see <a href="https://tools.ietf.org/html/rfc7208#section-2.3">https://tools.ietf.org/html/rfc7208#section-2.3</a></p>
<blockquote>
<p><strong><a href="https://tools.ietf.org/html/rfc7208#section-2.3">2.3</a>.  The &ldquo;HELO&rdquo; Identity</strong> It is RECOMMENDED that SPF verifiers not only check the &ldquo;MAIL FROM&rdquo;    identity but also separately check the &ldquo;HELO&rdquo; identity by applying    the check_host() function (<a href="https://tools.ietf.org/html/rfc7208#section-4">Section 4</a>) to the &ldquo;HELO&rdquo; identity as the    <sender>.  Checking &ldquo;HELO&rdquo; promotes consistency of results and can    reduce DNS resource usage.  If a conclusive determination about the    message can be made based on a check of &ldquo;HELO&rdquo;, then the use of DNS    resources to process the typically more complex &ldquo;MAIL FROM&rdquo; can be    avoided.  Additionally, since SPF records published for &ldquo;HELO&rdquo;    identities refer to a single host, when available, they are a very    reliable source of host authorization status.  Checking &ldquo;HELO&rdquo; before    &ldquo;MAIL FROM&rdquo; is the RECOMMENDED sequence if both are checked.</p>
</blockquote>
<p>So after changing the option to <strong>Null</strong> I received the emails again. I could also add the facebook mailserver to a whitelist. But al that is just a work around, instagram/facebook should add the HELO for outbound mailservers to their SPF records.</p>
<p>An other site where you can do SPF checks that will show this <a href="https://www.kitterman.com/spf/validate.html?">https://www.kitterman.com/spf/validate.html</a></p>
<pre tabindex="0"><code>Mail sent from this IP address: 66.220.155.156
Mail from (Sender): security@mail.instagram.com
Mail checked using this SPF policy: v=spf1 include:facebookmail.com -all
Results - PASS sender SPF authorized


Mail sent from this IP address: 66.220.155.156
Mail Server HELO/EHLO identity: mx-out.facebook.com

HELO/EHLO Results - softfail domain owner discourages use of this host
</code></pre><p>So what does a correct implementation looks like? Microsoft, Outlook has a correct HELO/SPF setup.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host -t txt eur01-db5-obe.outbound.protection.outlook.com
eur01-db5-obe.outbound.protection.outlook.com descriptive text <span style="color:#e6db74">&#34;v=spf1 include:spf.protection.outlook.com -all&#34;</span>
<span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host -t txt spf.protection.outlook.com
spf.protection.outlook.com descriptive text <span style="color:#e6db74">&#34;v=spf1 ip4:207.46.100.0/24 ip4:207.46.163.0/24 ip4:65.55.169.0/24 ip4:157.56.110.0/23 ip4:157.55.234.0/24 ip4:213.199.154.0/24 ip4:213.199.180.128/26 ip4:52.100.0.0/14 include:spfa.protection.outlook.com -all&#34;</span>
<span style="color:#ae81ff">1</span> dennis@colossus:~&gt; host eur01-db5-obe.outbound.protection.outlook.com
eur01-db5-obe.outbound.protection.outlook.com has address 213.199.154.175
eur01-db5-obe.outbound.protection.outlook.com has IPv6 address 2a01:111:f400:7e02::200
</code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kruyt.org/tags/SPF/">SPF</a></li>
      <li><a href="https://kruyt.org/tags/email/">email</a></li>
      <li><a href="https://kruyt.org/tags/instagram/">instagram</a></li>
      <li><a href="https://kruyt.org/tags/fail/">fail</a></li>
      <li><a href="https://kruyt.org/tags/helo/">helo</a></li>
      <li><a href="https://kruyt.org/tags/smtp/">smtp</a></li>
      <li><a href="https://kruyt.org/tags/facebook/">facebook</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="https://kruyt.org/">Dennis Kruyt</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
